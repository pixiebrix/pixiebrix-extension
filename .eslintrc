{
  "root": true,
  "extends": [
    // Full config: https://github.com/fregante/eslint-config-pixiebrix/blob/main/index.js
    "pixiebrix"
  ],
  "rules": {
    "quotes": ["error", "double", { "avoidEscape": true }],
    // Rules that depend on https://github.com/pixiebrix/pixiebrix-extension/issues/775
    "@typescript-eslint/no-explicit-any": "warn",
    "@typescript-eslint/no-confusing-void-expression": "warn",
    "@typescript-eslint/restrict-template-expressions": "warn",
    "@typescript-eslint/non-nullable-type-assertion-style": "warn",
    "@typescript-eslint/no-unnecessary-type-assertion": "warn",

    // Rules to fix and enforce over time
    "no-await-in-loop": "warn",
    "no-negated-condition": "warn",
    "no-return-await": "warn",
    "no-promise-executor-return": "warn",

    "unicorn/no-array-callback-reference": "warn", // Buggy with jQuery
    "unicorn/no-useless-undefined": "warn", // Buggy with React
    "unicorn/no-nested-ternary": "warn", // Sometimes it conflicts with Prettier
    "unicorn/consistent-function-scoping": "warn", // Complains about some of the lifted functions
    "unicorn/prefer-prototype-methods": "warn", // Buggy with abstract classes
    "unicorn/prefer-switch": "warn",

    "@typescript-eslint/ban-types": "warn",
    "@typescript-eslint/no-base-to-string": "warn",
    "@typescript-eslint/consistent-type-assertions": "warn",
    "@typescript-eslint/no-require-imports": "warn",
    "@typescript-eslint/no-dynamic-delete": "warn",
    "@typescript-eslint/triple-slash-reference": "warn",
    "@typescript-eslint/no-redeclare": "warn",
    "@typescript-eslint/no-misused-promises": "warn",
    "@typescript-eslint/unified-signatures": "warn",
    "@typescript-eslint/prefer-regexp-exec": "warn",
    "@typescript-eslint/no-useless-constructor": "warn",
    "@typescript-eslint/default-param-last": "warn",

    "jsx-a11y/click-events-have-key-events": "warn",
    "jsx-a11y/no-static-element-interactions": "warn",
    "jsx-a11y/anchor-is-valid": "warn",
    "jsx-a11y/interactive-supports-focus": "warn",
    "jsx-a11y/iframe-has-title": "warn"
  },
  "ignorePatterns": [
    "node_modules",
    ".idea",
    "dist",
    "artifacts",
    "scripts/bin",
    "src/vendors",
    "src/types/swagger.ts",
    "src/nativeEditor/Overlay.tsx",
    "src/support.js",
    "selenium"
  ],

  "overrides": [
    {
      "files": ["*.stories.tsx"],
      "rules": {
        "filenames/match-exported": "off"
      }
    },
    {
      "files": ["*.js"],
      "rules": {
        "@typescript-eslint/no-implicit-any-catch": "off"
      }
    },
    {
      "files": [
        "webpack.*.js",
        "*.config.js",
        "test-env.js",
        "**/__mocks__/**",
        "*.test.js"
      ],
      "env": {
        "node": true,
        "jest": true
      },
      "rules": {
        "@typescript-eslint/no-require-imports": "off",
        "@typescript-eslint/no-var-requires": "off",
        "unicorn/prefer-module": "off",

        // the webpack/testing files only run on the CI server, so don't need to watch for these:
        "security/detect-object-injection": "off",
        "security/detect-child-process": "off",
        "security/detect-unsafe-regex": "off"
      }
    }
  ]
}
